(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,t,a){e.exports=a(77)},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},46:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(17),o=a.n(i),c=a(86),l=(a(41),a(4)),s=a(5),u=a(7),d=a(6),h=a(8),m=a(85),p=(a(42),a(80));a(43);var v=function(){return r.a.createElement("div",null,r.a.createElement("header",{className:"header"},r.a.createElement("nav",{className:"nav"},r.a.createElement("div",{className:"refugee"},r.a.createElement(p.a,{to:"/"},"Refugee")),r.a.createElement("div",{className:"menu-links"},r.a.createElement(p.a,{to:"/",className:"link"},"Home"),r.a.createElement(p.a,{to:"/stories",className:"link"},"Stories"),r.a.createElement(p.a,{to:"/submit-story",className:"link"},"Submit Your Story"),r.a.createElement(p.a,{to:"/login",className:"link"},"Admin Log-In")))))},f=a(18),y=(a(46),a(9)),b=a.n(y),E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleInput=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.setUser=function(e){e.preventDefault();var t={username:a.state.user,password:a.state.password};b.a.post("https://refugeestories.herokuapp.com/api/login",t).then(function(e){localStorage.setItem("token",e.data.token),a.props.history.push("/recent-stories")})},a.state={user:"",password:""},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"login"},r.a.createElement("form",{onSubmit:this.setUser},r.a.createElement("input",{placeholder:"Enter Username",type:"text",name:"user",onChange:this.handleInput,value:this.state.user,required:!0}),r.a.createElement("input",{placeholder:"Enter Password",type:"password",name:"password",onChange:this.handleInput,value:this.state.password,required:!0}),r.a.createElement("button",{type:"submit"},"LOGIN IN")))}}]),t}(r.a.Component),S=(a(65),a(10)),g=a(35),O=a(81),j=a(82),k=a(83),x=a(84),I=[{id:1,altText:"Slide 1",caption:"Slide 1"},{id:2,altText:"Slide 2",caption:"Slide 2"},{id:3,altText:"Slide 3",caption:"Slide 3"}],N=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={activeIndex:0,items:[]},a.next=a.next.bind(Object(S.a)(Object(S.a)(a))),a.previous=a.previous.bind(Object(S.a)(Object(S.a)(a))),a.goToIndex=a.goToIndex.bind(Object(S.a)(Object(S.a)(a))),a.onExiting=a.onExiting.bind(Object(S.a)(Object(S.a)(a))),a.onExited=a.onExited.bind(Object(S.a)(Object(S.a)(a))),a.bkGround=a.bkGround.bind(Object(S.a)(Object(S.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("https://refugeestories.herokuapp.com/api/stories").then(function(t){e.setState({items:t.data})}).catch(function(e){return console.log(e)})}},{key:"onExiting",value:function(){this.animating=!0}},{key:"onExited",value:function(){this.animating=!1}},{key:"next",value:function(){if(!this.animating){var e=this.state.activeIndex===I.length-1?0:this.state.activeIndex+1;this.setState({activeIndex:e})}}},{key:"previous",value:function(){if(!this.animating){var e=0===this.state.activeIndex?I.length-1:this.state.activeIndex-1;this.setState({activeIndex:e})}}},{key:"goToIndex",value:function(e){this.animating||this.setState({activeIndex:e})}},{key:"bkGround",value:function(e,t){if(e.id===t)return e.url_thumbnail}},{key:"render",value:function(){var e=this,t=this.state.activeIndex,a=this.state.items.map(function(t,a){return r.a.createElement(g.a,{className:"custom-tag",tag:"div",itemBackground:e.bkGround(t,a),key:t.id,onExiting:e.onExiting,onExited:e.onExited},r.a.createElement(O.a,{className:"text-danger",captionText:t.title,captionHeader:t.snippet}))});return r.a.createElement("div",null,r.a.createElement("style",null,".custom-tag {\n                    max-width: 100%;\n                    height: 500px;\n                    \n                }"),r.a.createElement(j.a,{activeIndex:t,next:this.next,previous:this.previous},r.a.createElement(k.a,{items:this.state.items,activeIndex:t,onClickHandler:this.goToIndex}),a,r.a.createElement(x.a,{direction:"prev",directionText:"Previous",onClickHandler:this.previous}),r.a.createElement(x.a,{direction:"next",directionText:"Next",onClickHandler:this.next})))}}]),t}(n.Component);var C=function(){return r.a.createElement("div",null,r.a.createElement(N,null))},w=function(e){return console.log(),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{src:e.story.url_thumbnail,alt:"thumbnail-pic"})),r.a.createElement("div",null,e.story.title),r.a.createElement("div",null,e.story.snippet),r.a.createElement("button",null,r.a.createElement("i",{className:"fas fa-arrow-circle-right"}),"LEARN MORE"))},R=(a(74),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={stories:[]},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("https://refugeestories.herokuapp.com/api/stories").then(function(t){e.setState({stories:t.data})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"stories"},this.state.stories.map(function(e){return r.a.createElement(p.a,{className:"story",to:"/stories/".concat(e.id),key:e.id},r.a.createElement(w,{story:e,key:e.id}))}))}}]),t}(r.a.Component)),T=(a(75),function(e){return r.a.createElement("div",{className:"individual-story-card"},r.a.createElement("div",null,e.individualStory.author),r.a.createElement("div",null,e.individualStory.title),r.a.createElement("img",{src:e.individualStory.url_thumbnail,alt:"pic"}),r.a.createElement("div",null,e.individualStory.body))}),D=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).fetchStory=function(e){b.a.get("https://refugeestories.herokuapp.com/api/stories/".concat(e)).then(function(e){a.setState(function(){return{individualStory:e.data}})}).catch(function(e){return console.log(e)})},a.state={individualStory:{author:"",title:"",body:"",pic:""}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.fetchStory(e)}},{key:"render",value:function(){return r.a.createElement(T,{individualStory:this.state.individualStory})}}]),t}(r.a.Component);var M=function(e){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:e.addStory},r.a.createElement("input",{placeholder:"Enter Author",type:"text",name:"author",value:e.author,onChange:e.handleInput}),r.a.createElement("input",{placeholder:"Enter Title",type:"text",name:"title",value:e.title,onChange:e.handleInput}),r.a.createElement("input",{placeholder:"Enter Country",type:"text",name:"country",value:e.country,onChange:e.handleInput}),r.a.createElement("textarea",{placeholder:"Enter Story",type:"text",name:"body",value:e.body,onChange:e.handleInput}),r.a.createElement("button",{type:"submit"},"SUBMIT STORY")))},_=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).addStory=function(t){t.preventDefault(),b.a.post("https://refugeestories.herokuapp.com/api/submit",e.state).then(function(t){e.setState({stories:t.data}),e.props.history.push("/")}).catch(function(e){return console.log(e)})},e.handleInput=function(t){e.setState(Object(f.a)({},t.target.name,t.target.value)),console.log(t.target.value)},e.state={author:"",title:"",body:"",country:""},e}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(M,{newStory:this.state.newStory,addStory:this.addStory,handleInput:this.handleInput}))}}]),t}(r.a.Component),G=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={reStory:a.props.reStory},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p.a,{key:this.state.reStory.id,to:"/recent-stories/".concat(this.props.reStory.id)},r.a.createElement("div",null,this.state.reStory.title),r.a.createElement("div",null,this.state.reStory.author),r.a.createElement("img",{src:this.state.reStory.url_thumbnail,alt:"pic"}),r.a.createElement("div",null,this.state.reStory.body)))}}]),t}(r.a.Component),H=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={recentStories:[]},e}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t={headers:{authorization:localStorage.getItem("token")}};b.a.get("https://refugeestories.herokuapp.com/api/allstories",t).then(function(t){console.log(t),e.setState({recentStories:t.data})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.recentStories.map(function(t,a){return r.a.createElement(G,{reStory:t,key:a,deleteStory:e.deleteStory,acceptStory:e.acceptStory})}))}}]),t}(r.a.Component),z=function(e){return console.log(e),r.a.createElement("div",null,r.a.createElement("div",null,e.individualRecentStory.title),r.a.createElement("div",null,e.individualRecentStory.author),r.a.createElement("img",{src:e.individualRecentStory.url_thumbnail,alt:"thumbnail"}),r.a.createElement("div",null,e.individualRecentStory.body),r.a.createElement("i",{onClick:function(t){return e.acceptStory(t,e.individualRecentStory.id)},className:"fas fa-check-double"}),r.a.createElement("i",{onClick:function(t){return e.deleteStory(t,e.individualRecentStory.id)},className:"fas fa-trash-alt"}))},A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).fetchRecentStory=function(e){var t={headers:{authorization:localStorage.getItem("token")}};b.a.get("https://refugeestories.herokuapp.com/api/allstories/".concat(e),t).then(function(e){a.setState({individualRecentStory:e.data})}).catch(function(e){return console.log(e)})},a.deleteStory=function(e,t){e.preventDefault();var n={headers:{authorization:localStorage.getItem("token")}};b.a.delete("https://refugeestories.herokuapp.com/api/deletestory/".concat(t),n).then(function(e){a.props.history.push("/recent-stories")}).catch(function(e){return console.log(e)})},a.acceptStory=function(e,t){e.preventDefault();var n={headers:{autorization:localStorage.getItem("token")}};b.a.put("https://refugeestories.herokuapp.com/api/updatestory/".concat(t),n).then(function(e){a.props.history.push("/stories")}).catch(function(e){return console.log(e)})},a.state={individualRecentStory:{title:"",author:"",url_thumbnail:"",body:""}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.fetchRecentStory(e)}},{key:"render",value:function(){return r.a.createElement(z,{deleteStory:this.deleteStory,individualRecentStory:this.state.individualRecentStory,acceptStory:this.acceptStory})}}]),t}(r.a.Component),U=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(v,null),r.a.createElement(m.a,{exact:!0,path:"/",component:C}),r.a.createElement(m.a,{path:"/login",component:E}),r.a.createElement(m.a,{exact:!0,path:"/recent-stories",component:H}),r.a.createElement(m.a,{path:"/recent-stories/:id",component:A}),r.a.createElement(m.a,{exact:!0,path:"/stories",component:R}),r.a.createElement(m.a,{path:"/stories/:id",component:D}),r.a.createElement(m.a,{path:"/submit-story",component:_}))}}]),t}(n.Component);o.a.render(r.a.createElement(c.a,null,r.a.createElement(U,null)),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.c018276c.chunk.js.map